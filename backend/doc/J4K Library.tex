\documentclass{report}
\title{Documentation J4K Java Library}
\author{Robin \bsc{Shin} et Thibaud \bsc{Lemaire}}
\date{PACT 2015-2016}

\usepackage[latin1]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[francais]{babel}
\usepackage{graphicx}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=3cm]{geometry}

\begin{document}
\maketitle
\chapter*{Installation}

Tout d'abord, il est \textit{imp\'eratif} d'avoir la version 1.8 du SDK Kinect et non la 2.0 car celle-ci est inexploitable (probl\`emes de pilotes).

\subsection*{T\'el\'echargement du fichier .jar}
Sur : \underline{http://research.dwi.ufl.edu/ufdw/download.php}, t\'el\'echarger ufdw.jar.

\subsubsection*{Int\'egration avec Eclipse}
\begin{enumerate}
\item Ouvrir Eclipse, aller dans Project > Properties et aller dans l'onglet Java Build Path
\item Cliquer sur le bouton "Add External JARs..." et choisir le chemin vers le fichier ufdw.jar pr\'ec\'edemment t\'el\'echarg\'e.
\item D\'eplacer le fichier "ufdw\_j4k\_32bit.dll" ou "ufdw\_j4k\_64bit.dll" en fonction de la machine utilis\'ee \`a la racine du projet Java pour \'eviter les probl\`emes de dll manquantes.
\item On peut d\'esormais importer les fichiers de la librairie gr?ce ? la commande "import edu.ufl.digitalworlds.j4k.*".
\end{enumerate}

\subsubsection*{Recommandations pour l'int\'egration avec git}
\begin{enumerate}
\item Tout d'abord, il ne faut surtout pas ignorer le fichier .classpath au risque d'avoir des probl\`emes avec git.
\item Dans le fichier .classpath, le chemin vers ufdw.jar doit ?tre relatif et non absolu au risque de conflits d\`es qu'un utilisateur souhaite faire un push ou un pull.
\end{enumerate}

\subsubsection*{Ajout d'un projet de d\'emonstration sous Eclipse}
\begin{enumerate}
\item Ouvrir Eclipse, aller dans File > Import... et s\'electionner Git > Projects from Git
\item S\'electionner URI puis cliquer sur "Next"
\item Copier \underline{http://research.dwi.ufl.edu/git/j4kdemo} dans l'espace d\'edi\'e ? l'URI et cliquer sur "Next" autant de fois que n\'ecessaire, puis "Finish" : un nouveau projet "j4kdemo" est cr\'ee.
\end{enumerate}



\chapter*{Cr\'eation de l'objet Kinect}
\section*{Initialisation}
\textbf{initKinectModule();}

Initialise la Kinect, les donn\'ees, le squelette, etc...


\section*{M\'ethodes}
\textbf{public void onSkeletonFrameEvent(boolean[] skeleton\_tracked, float[] positions, float[] orientations, byte[] joint\_status);}

M\'ethode appel\'ee lorsqu'un nouveau squelette est recu. Cette m\'ethode remplace le squelette de l'attribut associ\'e de type Skeleton, cr\'ee un \'ev\'enement et l'envoie \`a tous les modules via un syst\`eme de Listeners.


\hspace{1\baselineskip}

\textbf{public void onDepthFrameEvent(short[] arg0, byte[] arg1, float[] arg2, float[] arg3);}

Permet de fixer une date de lancement de la Kinect pour, entre autre, calculer le fps. Cet Event est appel\'e lorsque le depthFrame est recu.
      
      
\hspace{1\baselineskip}

\textbf{public Skeleton getSkeleton();}

Getter pour r\'ecup\'erer le Skeleton.


\hspace{1\baselineskip}

\textbf{public int getNumberOfDancers();}

Renvoie le nombre de personnes d\'et\'ect\'ees par la Kinect (renvoie automatiquement 1 pour l'instant).


\hspace{1\baselineskip}

\textbf{public Object getVideo();}

Renvoie la vid\'eo (pas encore impl\'ement\'ee.


\hspace{1\baselineskip}

\textbf{public long getFPS();}

Renvoie le nombre de squelettes re\c{c}us par seconde.



\chapter*{Comment les \'ev\'enements sont r\'ecup\'er\'es?}
Les \'ev\'enements sont r\'ecup\'er\'es via un syst\`eme de Listeners.

\section*{Qu'est-ce qu'un listener?}















\end{document}